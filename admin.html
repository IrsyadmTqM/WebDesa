<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel</title>
    <link href="/src/style.css" rel="stylesheet">
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

</head>

<body class="bg-gray-100 flex flex-col items-center">
    <header
        class="flex items-center justify-between md:px-[8vw] px-[3vw] bg-gray-50 h-14 text-black shadow-sm fixed top-0 left-0 w-full z-50">
        <div class="logo">
            <a class="flex items-center gap-1" href="">
                <img class="h-7 -mt-1" src="https://img.icons8.com/pastel-glyph/64/40C057/marker--v1.png"
                    alt="marker--v1" />
                <span class="text-lg font-bold">Desa Cibiru</span>
            </a>
        </div>
        <nav>
            <ul
                class="flex font-medium items-center gap-2 [&>li>a]:px-3 [&>li>a]:py-1 [&>li>a:hover]:outline-emerald-500 [&>li>a]:rounded-lg">
                <li><a href="index.html" class="hover:outline-2">Profil</a></li>
                <li><a href="berita.html" class="hover:outline-2">Berita</a></li>
                <li><a href="layanan.html" class="hover:outline-2">Layanan</a></li>
                <li><a href="admin.html" class="outline-2 outline-emerald-400 bg-emerald-100">Admin Panel</a></li>
            </ul>
        </nav>
    </header>

    <div class="flex flex-col gap-5 pb-10">
        <div class="pl-5 pt-28">
            <h4 class="text-2xl text-[#139B82] font-semibold">Admin Panel</h4>
        </div>

        <div class="flex flex-col md:flex-row gap-6">
            <!-- Upload Berita -->
            <div class="bg-green-100 p-6 rounded-2xl shadow-md w-[340px] md:w-[35vw]">
                <div class="flex items-center mb-4">
                    <svg class="w-6 h-6 text-[#139B82] mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M4 3a2 2 0 00-2 2v2h16V5a2 2 0 00-2-2H4zm14 5H2v7a2 2 0 002 2h12a2 2 0 002-2V8z" />
                    </svg>
                    <h2 class="text-[#139B82] font-semibold text-lg">Upload Berita</h2>
                </div>
                <form class="flex flex-col gap-3">
                    <input type="text" placeholder="Judul Berita"
                        class="bg-white px-3 py-2 rounded shadow-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-emerald-400">
                    <input type="date"
                        class="bg-white px-3 py-2 rounded shadow-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-emerald-400">
                    <textarea placeholder="Isi Berita" rows="4"
                        class="bg-white px-3 py-2 rounded shadow-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-emerald-400"></textarea>
                    <label class="text-sm font-medium text-[#139B82]">Upload Gambar Thumbnails</label>
                    <input type="file" accept="image/*"
                        class="bg-white px-3 py-2 rounded shadow-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-emerald-400 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-[#139B82] file:text-white hover:file:bg-emerald-800">
                    <button type="submit"
                        class="bg-[#139B82] text-white py-2 rounded shadow hover:bg-emerald-800 transition">Upload
                        Berita</button>
                </form>
            </div>

            <!-- Edit Profil Desa -->
            <div class="bg-green-100 p-6 rounded-2xl shadow-md w-[340px] md:w-[35vw]">
                <div class="flex items-center mb-4">
                    <svg class="w-6 h-6 text-[#139B82] mr-2" fill="currentColor" viewBox="0 0 24 24">
                        <path
                            d="M4 3a1 1 0 000 2h16a1 1 0 100-2H4zm0 6a1 1 0 000 2h10a1 1 0 100-2H4zm0 6a1 1 0 000 2h7a1 1 0 100-2H4zm0 6a1 1 0 000 2h4a1 1 0 100-2H4z" />
                    </svg>
                    <h2 class="text-[#139B82] font-semibold text-lg">Edit Profil Desa</h2>
                </div>
                <form class="flex flex-col gap-3">
                    <input type="text" placeholder="Nama Desa"
                        class="bg-white px-3 py-2 rounded shadow-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-emerald-400">
                    <input type="text" placeholder="Kecamatan"
                        class="bg-white px-3 py-2 rounded shadow-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-emerald-400">
                    <textarea placeholder="Visi" rows="3"
                        class="bg-white px-3 py-2 rounded shadow-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-emerald-400"></textarea>
                    <textarea placeholder="Misi" rows="3"
                        class="bg-white px-3 py-2 rounded shadow-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-emerald-400"></textarea>
                    <button type="submit"
                        class="bg-[#139B82] text-white py-2 rounded shadow hover:bg-emerald-800 transition">Simpan
                        Perubahan</button>
                </form>
            </div>
        </div>
    </div>
    <div class=" text-sm w-full px-[8vw] py-10 bg-white" x-data="{
      statusFilter: '',
      searchQuery: '',
      data: [
        { nama: 'Irsyad', alamat: 'Jl. Raya Cibiru No.45', barang: 'Kursi Plastik (2 unit)', pinjam: '15 Des 2024', kembali: '22 Des 2025', status: 'Dipinjam' },
        { nama: 'Lubada', alamat: 'Jl. Raya Cibiru No.20', barang: 'Tenda Pesta (5 unit)', pinjam: '17 Des 2024', kembali: '25 Des 2023', status: 'Dikembalikan' },
        { nama: 'Tralalelo Tralala', alamat: 'Jl. Raya Cipadung No.2', barang: 'Proyektor', pinjam: '20 Des 2024', kembali: '20 April 2025', status: 'Terlambat' },
        { nama: 'Tung tung tung sahur', alamat: 'Jl. Raya Cipadung No.2', barang: 'Proyektor', pinjam: '20 Des 2024', kembali: '20 April 2025', status: 'Terlambat' },
        { nama: 'Bombargini gusini', alamat: 'Jl. Raya Cipadung No.2', barang: 'Proyektor', pinjam: '20 Des 2024', kembali: '20 April 2025', status: 'Terlambat' },
      ]
    }">

        <h1 class="text-green-700 text-xl font-bold mb-6">Daftar Peminjaman</h1>

        <!-- Statistik -->
        <div class="grid grid-cols-4 gap-4 mb-8">
            <div class="bg-white shadow rounded p-4 flex justify-between items-center">
                <div>
                    <p class="text-gray-500 text-sm">Total Peminjaman</p>
                    <p class="text-lg font-bold">127</p>
                </div>
                <div>
                    <img src="https://img.icons8.com/material-rounded/24/4CAF50/grid-2.png" alt="icon" />
                </div>
            </div>
            <div class="bg-white shadow rounded p-4 flex justify-between items-center">
                <div>
                    <p class="text-gray-500 text-sm">Sedang Dipinjam</p>
                    <p class="text-lg font-bold text-orange-600">23</p>
                </div>
                <img src="https://img.icons8.com/ios-filled/24/FF9800/clock--v1.png" alt="clock" />
            </div>
            <div class="bg-white shadow rounded p-4 flex justify-between items-center">
                <div>
                    <p class="text-gray-500 text-sm">Dikembalikan</p>
                    <p class="text-lg font-bold text-green-600">104</p>
                </div>
                <img src="https://img.icons8.com/material-sharp/24/4CAF50/checkmark.png" alt="check" />
            </div>
            <div class="bg-white shadow rounded p-4 flex justify-between items-center">
                <div>
                    <p class="text-gray-500 text-sm">Terlambat</p>
                    <p class="text-lg font-bold text-red-600">3</p>
                </div>
                <img src="https://img.icons8.com/color/24/FA5252/error--v1.png" alt="warning" />
            </div>
        </div>

        <!-- Filter dan Pencarian -->
        <div class="flex justify-between mb-4">
            <input type="text" placeholder="Cari Peminjam..." x-model="searchQuery"
                class="border px-4 py-2 rounded w-1/3" />
            <select x-model="statusFilter" class="border px-4 py-2 rounded">
                <option value="">Semua Status</option>
                <option value="Dipinjam">Dipinjam</option>
                <option value="Dikembalikan">Dikembalikan</option>
                <option value="Terlambat">Terlambat</option>
            </select>
        </div>

        <!-- Tabel -->
        <div class="bg-white shadow rounded border overflow-x-auto">
            <table class="min-w-full table-auto ">
                <thead class="bg-gray-100">
                    <tr class="">
                        <th class="p-3 text-left">Nama Peminjam</th>
                        <th class="p-3 text-left">Alamat</th>
                        <th class="p-3 text-left">Barang</th>
                        <th class="p-3 text-left">Tanggal Pinjam</th>
                        <th class="p-3 text-left">Tanggal Kembali</th>
                        <th class="p-3 text-left">Status</th>
                        <th class="p-3 text-left">Aksi</th>
                    </tr>
                </thead>
                <tbody>
                    <template
                        x-for="item in data.filter(d => (!statusFilter || d.status === statusFilter) && d.nama.toLowerCase().includes(searchQuery.toLowerCase()))">
                        <tr class="">
                            <td class="p-3 flex items-center gap-2">
                                <img src="https://i.pravatar.cc/30?img=12" class="rounded-full w-8 h-8" />
                                <span x-text="item.nama"></span>
                            </td>
                            <td class="p-3" x-text="item.alamat"></td>
                            <td class="p-3" x-text="item.barang"></td>
                            <td class="p-3" x-text="item.pinjam"></td>
                            <td class="p-3" x-text="item.kembali"></td>
                            <td class="p-3">
                                <span :class="{
                    'text-orange-600 font-semibold': item.status === 'Dipinjam',
                    'text-green-600 font-semibold': item.status === 'Dikembalikan',
                    'text-red-600 font-semibold': item.status === 'Terlambat'
                  }" x-text="item.status"></span>
                            </td>
                            <td class="p-3 flex gap-2">
                                <button><img src="https://img.icons8.com/ios-glyphs/20/4CAF50/edit.png"
                                        alt="edit"></button>
                                <button><img src="https://img.icons8.com/ios-glyphs/20/FA5252/trash.png"
                                        alt="delete"></button>
                            </td>
                        </tr>
                    </template>
                </tbody>
            </table>
            <div class="flex justify-between p-5 ">
                <div class="text-sm text-gray-500">Menampilkan 1-3 dari 127 data</div>
                <!-- Pagination -->
                <div class="flex justify-center mt-4 gap-2 pr-15">
                    <button class="px-3 py-1 border rounded-xl">&lt;</button>
                    <button class="px-3 py-1 border rounded-xl bg-gray-200">1</button>
                    <button class="px-3 py-1 border rounded-xl">2</button>
                    <button class="px-3 py-1 border rounded-xl">3</button>
                    <button class="px-3 py-1 border rounded-xl">&gt;</button>
                </div>
            </div>
        </div>
    </div>

    <div class="text-sm w-full px-[8vw] py-10 bg-white" x-data="aspirasiApp()" x-init="init()">
        <h1 class="text-green-700 text-xl font-bold mb-6">Daftar Aspirasi Warga</h1>

        <!-- Statistik -->
        <div class="grid grid-cols-3 gap-4 mb-8">
            <div class="bg-white shadow rounded p-4 flex justify-between items-center">
                <div>
                    <p class="text-gray-500 text-sm">Total Aspirasi</p>
                    <p class="text-lg font-bold" x-text="data.length"></p>
                </div>
                <img src="https://img.icons8.com/material-rounded/24/4CAF50/speech-bubble.png" />
            </div>
            <div class="bg-white shadow rounded p-4 flex justify-between items-center">
                <div>
                    <p class="text-gray-500 text-sm">Sudah Ditanggapi</p>
                    <p class="text-lg font-bold text-green-600"
                        x-text="data.filter(d => d.status === 'Sudah Ditanggapi').length"></p>
                </div>
                <img src="https://img.icons8.com/material-sharp/24/4CAF50/checkmark.png" />
            </div>
            <div class="bg-white shadow rounded p-4 flex justify-between items-center">
                <div>
                    <p class="text-gray-500 text-sm">Belum Ditanggapi</p>
                    <p class="text-lg font-bold text-red-600"
                        x-text="data.filter(d => d.status === 'Belum Ditanggapi').length"></p>
                </div>
                <img src="https://img.icons8.com/color/24/FA5252/error--v1.png" />
            </div>
        </div>

        <!-- Filter dan Pencarian -->
        <div class="flex justify-between mb-4">
            <input type="text" placeholder="Cari Nama Warga..." x-model="searchQuery"
                class="border px-4 py-2 rounded w-1/3" />
            <select x-model="statusFilter" class="border px-4 py-2 rounded">
                <option value="">Semua Status</option>
                <option value="Sudah Ditanggapi">Sudah Ditanggapi</option>
                <option value="Belum Ditanggapi">Belum Ditanggapi</option>
            </select>
        </div>

        <!-- Tabel -->
        <div class="bg-white shadow rounded border overflow-x-auto">
            <table class="min-w-full table-auto">
                <thead class="bg-gray-100">
                    <tr>
                        <th class="p-3 text-left">Nama</th>
                        <th class="p-3 text-left">Alamat</th>
                        <th class="p-3 text-left">Aspirasi</th>
                        <th class="p-3 text-left">Tanggal</th>
                        <th class="p-3 text-left">Tanggapan</th>
                        <th class="p-3 text-left">Status</th>
                        <th class="p-3 text-left">Aksi</th>
                    </tr>
                </thead>
                <tbody>
                    <template
                        x-for="(item, index) in data.filter(d => (!statusFilter || d.status === statusFilter) && d.nama.toLowerCase().includes(searchQuery.toLowerCase()))"
                        :key="index">
                        <tr>
                            <td class="p-3 flex items-center gap-2">
                                <img src="https://i.pravatar.cc/30?img=12" class="rounded-full w-8 h-8" />
                                <span x-text="item.nama"></span>
                            </td>
                            <td class="p-3" x-text="item.alamat"></td>
                            <td class="p-3" x-text="item.aspirasi"></td>
                            <td class="p-3" x-text="item.tanggal"></td>
                            <td class="p-3" x-text="item.tanggapan || '-'"></td>
                            <td class="p-3">
                                <span :class="{
                'text-green-600 font-semibold': item.status === 'Sudah Ditanggapi',
                'text-red-600 font-semibold': item.status === 'Belum Ditanggapi'
              }" x-text="item.status"></span>
                            </td>
                            <td class="p-3 flex gap-2">
                                <template x-if="item.status === 'Belum Ditanggapi'">
                                    <button @click="openModal(item)"
                                        class="text-sm text-white bg-red-400 py-0.5 px-2 rounded hover:bg-red-500">Tanggapi</button>
                                </template>
                            </td>
                        </tr>
                    </template>
                </tbody>
            </table>

            <!-- Pagination (dummy) -->
            <div class="flex justify-between p-5">
                <div class="text-sm text-gray-500">Menampilkan semua aspirasi</div>
                <div class="flex gap-2">
                    <button class="px-3 py-1 border rounded-xl">&lt;</button>
                    <button class="px-3 py-1 border rounded-xl bg-gray-200">1</button>
                    <button class="px-3 py-1 border rounded-xl">&gt;</button>
                </div>
            </div>
        </div>

        <!-- Modal -->
        <div class="fixed inset-0 bg-black bg-opacity-40 z-50 flex items-center justify-center" x-show="showModal">
            <div class="bg-white rounded-xl shadow-lg p-6 w-full max-w-md" @click.away="closeModal()">
                <h2 class="text-lg font-semibold mb-4">Tanggapi Aspirasi</h2>
                <p class="mb-2 text-sm text-gray-600" x-text="selectedItem?.aspirasi"></p>
                <textarea x-model="responseText" rows="4" class="w-full border p-2 rounded mb-4"
                    placeholder="Tulis tanggapan di sini..."></textarea>
                <div class="flex justify-end gap-2">
                    <button class="px-4 py-2 bg-gray-200 rounded" @click="closeModal()">Batal</button>
                    <button class="px-4 py-2 bg-green-600 text-white rounded" @click="submitResponse()">Simpan</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        function aspirasiApp() {
            return {
                data: [],
                searchQuery: '',
                statusFilter: '',
                showModal: false,
                selectedItem: null,
                responseText: '',

                init() {
                    this.data = [
                        { nama: 'Irsyad', alamat: 'Jl. Raya Cibiru No.45', aspirasi: 'Perbaikan jalan rusak di RT 04', tanggal: '10 Juni 2025', tanggapan: 'Akan diperbaiki minggu ini', status: 'Sudah Ditanggapi' },
                        { nama: 'Lubada', alamat: 'Jl. Raya Cibiru No.20', aspirasi: 'Pemasangan lampu jalan di gang sempit', tanggal: '8 Juni 2025', tanggapan: '', status: 'Belum Ditanggapi' },
                        { nama: 'Tralala', alamat: 'Jl. Raya Cipadung No.2', aspirasi: 'Tempat sampah umum tidak cukup', tanggal: '9 Juni 2025', tanggapan: '', status: 'Belum Ditanggapi' }
                    ];
                },

                openModal(item) {
                    this.selectedItem = item;
                    this.responseText = item.tanggapan || '';
                    this.showModal = true;
                },

                closeModal() {
                    this.selectedItem = null;
                    this.responseText = '';
                    this.showModal = false;
                },

                submitResponse() {
                    if (this.selectedItem && this.responseText.trim() !== '') {
                        this.selectedItem.tanggapan = this.responseText;
                        this.selectedItem.status = 'Sudah Ditanggapi';
                    }
                    this.closeModal();
                }
            }
        }
    </script>





    <footer class="flex w-screen h-[10vh] items-start justify-between bg-[#139B82] px-[10vw] pt-5">
        <div class="mt-1">
            <a class="flex items-center gap-1" href="">
                <img class="h-7 -mt-1" src="https://img.icons8.com/pastel-glyph/64/FFFFFF/marker--v1.png"
                    alt="marker--v1" />
            </a>
        </div>
        <div class="flex gap-2 mt-1">
            <a href=""><img src="https://img.icons8.com/?size=25&id=118466&format=png&color=FFFFFF" alt=""></a>
            <a href=""><img src="https://img.icons8.com/?size=25&id=85088&format=png&color=FFFFFF" alt=""></a>
            <a href=""><img src="https://img.icons8.com/?size=25&id=32309&format=png&color=FFFFFF" alt=""></a>
        </div>
    </footer>
</body>

</html>